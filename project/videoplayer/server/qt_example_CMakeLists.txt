# Qt 6 项目示例 CMakeLists.txt
# 这是一个使用Qt的CMake项目配置示例

cmake_minimum_required(VERSION 3.16)
project(QtExample VERSION 1.0.0 LANGUAGES CXX)

# 设置C++标准
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# 设置Qt路径（如果CMake找不到Qt，可以手动指定）
# set(CMAKE_PREFIX_PATH "D:/Qt/6.9.1/mingw_64")

# 自动查找Qt6
find_package(Qt6 REQUIRED COMPONENTS Core Widgets)

# 如果使用Qt Widgets
# find_package(Qt6 REQUIRED COMPONENTS Core Widgets)

# 如果使用Qt Quick/QML
# find_package(Qt6 REQUIRED COMPONENTS Core Quick)

# 启用自动MOC、UIC、RCC
set(CMAKE_AUTOMOC ON)
set(CMAKE_AUTOUIC ON)
set(CMAKE_AUTORCC ON)

# 添加可执行文件
add_executable(${PROJECT_NAME}
    main.cpp
    mainwindow.cpp
    mainwindow.h
)

# 链接Qt库
target_link_libraries(${PROJECT_NAME}
    Qt6::Core
    Qt6::Widgets
    # 如果使用其他模块，添加：
    # Qt6::Quick
    # Qt6::Network
    # Qt6::Sql
)

# Windows特定设置
if(WIN32)
    # 复制Qt DLL到输出目录
    set_target_properties(${PROJECT_NAME} PROPERTIES
        WIN32_EXECUTABLE TRUE
    )
    
    # 自动部署Qt运行时（可选）
    # include(InstallRequiredSystemLibraries)
endif()


